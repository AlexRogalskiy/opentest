package dtest.seleniumactions;

import dtest.base.logging.Logger;

public class SwitchToLastWindow extends WebTestAction {
//should implement scroll up and scroll down instead of swipe

    @Override
    public void run() {
        super.run();
        
        String[] windowHandles = (String[]) driver.getWindowHandles().toArray();
        
        try {
            driver.switchTo().window(windowHandles[windowHandles.length - 1]);
            this.waitForAngulartoFinish();
            Logger.info(String.format(
                    "Successfully switched to last window (number %s)",
                    windowHandles.length));
        } catch (Exception ex) {
            throw new RuntimeException(String.format(
                    "Failed to switch to last window (number %s)",
                    windowHandles.length), ex);
        }
    }
}
